{{extend 'layout.html'}}

{{ block header_bonus }}
    <h2>
        <a href="{{= requested_story["story_permalink"] }}">{{= requested_story["story_title"] }}</a> - 
        <a href="{{= URL("feeds", "view", args=[feed_id]) }}">{{= feed_name }}</a>
    </h2>
    <a href="{{= URL("mark_read", vars=dict(story_id=requested_story["id"], feed_id=feed_id)) }}" class="button">
        Mark story as read
    </a>
{{ end }}
<section id="story">
    {{= XML(requested_story["story_content"]) }}
</section>

{{ block footer_bonus }}
    {{ if previous_story is not None: }}
        <p>→ Older story: <a href="{{= URL(c="stories", f="view", vars=dict(story=previous_story["id"], feed_id=feed_id, feed_name=feed_name)) }}">{{= previous_story["story_title"] }}</a></p>
    {{ pass }}
    {{ if next_story is not None: }}
        <p>← Newer story: <a href="{{= URL(c="stories", f="view", vars=dict(story=next_story["id"], feed_id=feed_id, feed_name=feed_name)) }}">{{= next_story["story_title"] }}</a></p>
    {{ pass }}
{{ end }}
